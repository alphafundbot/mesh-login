## ðŸª¶ Strategist Merge Ceremony â€” PRâ€¯#7 Closeout

### 1. Preâ€‘Merge Review & Testing
**Purpose:** Lock in code integrity, compliance, and operational readiness.

```bash
git fetch origin strategist-mutation
git checkout strategist-mutation
git pull
```
- Open [PRâ€¯#7](https://github.com/alphafundbot/mesh-login/pull/7) in GitHub.
- Verify:
  - `app/api/ai/route.ts` compiles without type errors (`npm run build`).
  - `lib/ai/providers.ts` handles provider override and fallback correctly.
  - `components/CockpitAsk.tsx` renders and POSTs to `/api/ai`.
- Run local dev:
```bash
npm install
npm run dev
```
- Test both default and explicit `provider/model` calls.

---

### 2. Dependencies & Environment Confirmation
**Purpose:** Avoid deployment drift from missing modules or secrets.

```bash
npm install ai @ai-sdk/openai @ai-sdk/anthropic zod
```
- In Vercel Project Settings â†’ **Environment Variables**:
  - `DEFAULT_AI_PROVIDER=openai` *(or anthropic)*
  - `DEFAULT_AI_MODEL=gpt-4o-mini` *(or appropriate Claude model)*
  - `OPENAI_API_KEY` or `ANTHROPIC_API_KEY` set and encrypted.
- Validate locally:
```bash
echo $DEFAULT_AI_PROVIDER
echo $DEFAULT_AI_MODEL
```

---

### 3. Telemetry & Health Check Validation
**Purpose:** Confirm the mesh is green before merge.

- From cockpit dashboard:
  - Watch suffix health check for strategistâ€‘mutation branch.
  - Confirm `queueStatus=0` before moving forward.
- Optional CLI check (if enabled in your cockpit CLI):
```bash
cockpit status --branch strategist-mutation
```

---

### 4. Final Merge & Redeploy Execution
**Purpose:** Transition from staged mutation to production lineage.

```bash
# Ensure main is up to date
git checkout main
git pull

# Merge mutation lineage
git merge strategist-mutation --no-ff -m "merge: advanced AI endpoint inscription [fingerprint: nehemie.destine]"

# Push to production
git push origin main
```

- In GitHub, mark PRâ€¯#7 as **Ready for review**, approve, and merge.

- **Pulse Choice:**
  - *Standard*: Let Vercel trigger standard redeploy.
  - *Urgent*: Use cockpit to trigger `urgent redeploy` with:
    ```bash
    cockpit redeploy --urgent --branch main
    ```

---

### 5. Audit Trail Closure
**Purpose:** Preserve ceremony in strategist memory.

- Log merge event in cockpit:
```bash
cockpit log --event "Merge Ceremony PR#7: Advanced AI endpoint" \
  --fingerprint nehemie.destine \
  --lineage accelerated-path
```
- Snapshot telemetry postâ€‘deploy for archive.

---

When you execute this sequence lineâ€‘byâ€‘line, the strategistâ€‘mutation will close cleanly, your mesh will be live with the advanced endpoint, and the audit trail will be fully sealed.